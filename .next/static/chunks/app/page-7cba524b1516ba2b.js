(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{998:function(e,s,a){Promise.resolve().then(a.bind(a,8347))},8347:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return E}});var r=a(7437),t=a(2708),n=a(2265);let l=[{id:11,name:"BURGUER BUCAROS",category:{name:"Fast Food"}},{id:12,name:"BURGUER MELANI",category:{name:"Fast Food"}}];function i(e){let{onSelectRestaurant:s}=e,[a,t]=(0,n.useState)([]);return(0,n.useEffect)(()=>{t(l)},[]),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Restaurantes"}),(0,r.jsx)("ul",{children:a.map(e=>(0,r.jsx)("li",{className:"mb-2",children:(0,r.jsxs)("button",{onClick:()=>s(e),className:"w-full text-left p-2 bg-white rounded shadow hover:bg-gray-100",children:[(0,r.jsx)("span",{className:"font-bold",children:e.name}),(0,r.jsx)("span",{className:"ml-2 text-gray-600",children:e.category.name})]})},e.id))})]})}let d=[{id:8,name:"BURGUER BUCAROS",description:"La favorita de la Ciudad\r\nCarne, pollo desmechado en t\xe1rtara, pilla y arepa.",price:"18.50",image_url:"http://res.cloudinary.com/dc3vcn9g6/image/upload/v1729200330/products/kc3jt3rrpyrmdgzgedrz.jpg"},{id:7,name:"BURGUER MELANI",description:"La preferida de la Casa.\r\nCarne, pollo desmechado en t\xe1rtara, pilla y arepa.",price:"17.50",image_url:"http://res.cloudinary.com/dc3vcn9g6/image/upload/v1729200342/products/rjeln2hssrmkfos2yzl9.jpg"}];function c(e){let{restaurant:s,addToCart:a}=e,[t,l]=(0,n.useState)([]);return(0,n.useEffect)(()=>{l(d)},[s]),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"text-xl font-bold mb-2",children:["Men\xfa de ",s.name]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(e=>(0,r.jsxs)("div",{className:"bg-white rounded shadow p-4",children:[(0,r.jsx)("img",{src:e.image_url,alt:e.name,className:"w-full h-48 object-cover mb-2 rounded"}),(0,r.jsx)("h3",{className:"font-bold",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,r.jsxs)("p",{className:"font-bold mb-2",children:["$",e.price]}),(0,r.jsx)("button",{onClick:()=>a(e),className:"w-full bg-primary text-white p-2 rounded hover:bg-primary-dark",children:"Agregar al carrito"})]},e.id))})]})}function o(e){let{items:s,onPlaceOrder:a}=e,[t,l]=(0,n.useState)(0);return(0,n.useEffect)(()=>{l(s.reduce((e,s)=>e+parseFloat(s.price),0))},[s]),(0,r.jsxs)("div",{className:"mt-4 bg-white rounded shadow p-4",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Carrito"}),0===s.length?(0,r.jsx)("p",{children:"Tu carrito est\xe1 vac\xedo"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("ul",{children:s.map((e,s)=>(0,r.jsxs)("li",{className:"mb-2",children:[(0,r.jsx)("span",{className:"font-bold",children:e.name})," - $",e.price]},s))}),(0,r.jsxs)("p",{className:"font-bold mt-2",children:["Total: $",t.toFixed(2)]}),(0,r.jsx)("button",{onClick:a,className:"w-full mt-4 bg-primary text-white p-2 rounded hover:bg-primary-dark",children:"Realizar pedido"})]})]})}var m=a(1888),u=a(257);function h(){return(0,n.useEffect)(()=>{new m.aN({apiKey:u.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY,version:"weekly"}).load().then(()=>{new google.maps.Map(document.getElementById("map"),{center:{lat:0,lng:0},zoom:8})})},[]),(0,r.jsx)("div",{id:"map",style:{width:"100%",height:"400px"}})}function x(){let[e,s]=(0,n.useState)(null),[a,t]=(0,n.useState)([]),[l,d]=(0,n.useState)(!1);return(0,r.jsxs)("div",{className:"container mx-auto p-4",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Panel de Usuario"}),!e&&(0,r.jsx)(i,{onSelectRestaurant:s}),e&&!l&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c,{restaurant:e,addToCart:e=>t([...a,e])}),(0,r.jsx)(o,{items:a,onPlaceOrder:()=>d(!0)})]}),l&&(0,r.jsx)(h,{})]})}let p=[{id:1,customerName:"Juan P\xe9rez",items:[{name:"BURGUER BUCAROS",quantity:2}],total:37},{id:2,customerName:"Mar\xeda Garc\xeda",items:[{name:"BURGUER MELANI",quantity:1}],total:17.5}];function j(e){let{orders:s}=e,[a,t]=(0,n.useState)([]);return(0,n.useEffect)(()=>{t(p)},[]),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Pedidos Pendientes"}),0===a.length?(0,r.jsx)("p",{children:"No hay pedidos pendientes"}):(0,r.jsx)("ul",{className:"space-y-4",children:a.map(e=>(0,r.jsxs)("li",{className:"bg-white rounded-lg shadow p-4",children:[(0,r.jsxs)("h3",{className:"font-bold text-lg mb-2",children:["Pedido #",e.id]}),(0,r.jsxs)("p",{className:"mb-2",children:["Cliente: ",e.customerName]}),(0,r.jsx)("ul",{className:"list-disc list-inside mb-2",children:e.items.map((e,s)=>(0,r.jsxs)("li",{children:[e.name," x ",e.quantity]},s))}),(0,r.jsxs)("p",{className:"font-bold",children:["Total: $",e.total.toFixed(2)]})]},e.id))})]})}var b=a(5398);function N(){let[e,s]=(0,n.useState)(""),[a,t]=(0,n.useState)(null);return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Generar Factura"}),(0,r.jsx)("button",{onClick:()=>{let e={invoiceNumber:Math.floor(1e6*Math.random()),total:50,paymentLink:"https://example.com/pay/123456"};t(e),s(e.paymentLink)},className:"bg-primary text-white p-2 rounded hover:bg-primary-dark mb-4",children:"Generar Factura y C\xf3digo QR"}),a&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("strong",{children:"N\xfamero de Factura:"})," ",a.invoiceNumber]}),(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("strong",{children:"Total:"})," $",a.total.toFixed(2)]}),(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("strong",{children:"Link de Pago:"})," ",a.paymentLink]}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)(b.default,{value:e,size:128})})]})]})}function g(){let[e,s]=(0,n.useState)([]);return(0,r.jsxs)("div",{className:"container mx-auto p-4",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Panel de Restaurante"}),(0,r.jsx)(j,{orders:e}),(0,r.jsx)(N,{})]})}let f=[{id:1,customerName:"Juan P\xe9rez",restaurantName:"BURGUER BUCAROS",total:25,driverOffer:5},{id:2,customerName:"Mar\xeda Garc\xeda",restaurantName:"BURGUER MELANI",total:30,driverOffer:6}];function v(e){let{onAcceptOrder:s}=e,[a,t]=(0,n.useState)([]);return(0,n.useEffect)(()=>{t(f)},[]),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Pedidos Disponibles"}),0===a.length?(0,r.jsx)("p",{children:"No hay pedidos disponibles en este momento"}):(0,r.jsx)("ul",{className:"space-y-4",children:a.map(e=>(0,r.jsxs)("li",{className:"bg-white rounded-lg shadow p-4",children:[(0,r.jsxs)("h3",{className:"font-bold text-lg mb-2",children:["Pedido #",e.id]}),(0,r.jsxs)("p",{className:"mb-1",children:[(0,r.jsx)("strong",{children:"Cliente:"})," ",e.customerName]}),(0,r.jsxs)("p",{className:"mb-1",children:[(0,r.jsx)("strong",{children:"Restaurante:"})," ",e.restaurantName]}),(0,r.jsxs)("p",{className:"mb-1",children:[(0,r.jsx)("strong",{children:"Total:"})," $",e.total.toFixed(2)]}),(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("strong",{children:"Oferta para el conductor:"})," $",e.driverOffer.toFixed(2)]}),(0,r.jsx)("button",{onClick:()=>s(e),className:"bg-primary text-white p-2 rounded hover:bg-primary-dark",children:"Aceptar Pedido"})]},e.id))})]})}function y(e){let{order:s}=e,[a,t]=(0,n.useState)("En camino al restaurante"),l=e=>{t(e)};return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Pedido Actual"}),(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("strong",{children:"Pedido #:"})," ",s.id]}),(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("strong",{children:"Cliente:"})," ",s.customerName]}),(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("strong",{children:"Restaurante:"})," ",s.restaurantName]}),(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("strong",{children:"Total:"})," $",s.total.toFixed(2)]}),(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("strong",{children:"Ganancia del conductor:"})," $",s.driverOffer.toFixed(2)]}),(0,r.jsxs)("p",{className:"mb-4",children:[(0,r.jsx)("strong",{children:"Estado actual:"})," ",a]}),(0,r.jsxs)("div",{className:"space-x-2",children:[(0,r.jsx)("button",{onClick:()=>l("Recogiendo el pedido"),className:"bg-primary text-white p-2 rounded hover:bg-primary-dark",children:"Recoger Pedido"}),(0,r.jsx)("button",{onClick:()=>l("En camino al cliente"),className:"bg-primary text-white p-2 rounded hover:bg-primary-dark",children:"En Camino al Cliente"}),(0,r.jsx)("button",{onClick:()=>l("Pedido entregado"),className:"bg-primary text-white p-2 rounded hover:bg-primary-dark",children:"Pedido Entregado"})]})]})}function w(){let[e,s]=(0,n.useState)(null);return(0,r.jsxs)("div",{className:"container mx-auto p-4",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Panel de Conductor"}),!e&&(0,r.jsx)(v,{onAcceptOrder:s}),e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y,{order:e}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)(h,{})})]})]})}function C(){let{setRole:e}=(0,t.k)(),[s,a]=(0,n.useState)("user");return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,r.jsxs)("form",{onSubmit:a=>{a.preventDefault(),e(s)},className:"bg-white p-8 rounded-lg shadow-md",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Iniciar sesi\xf3n"}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block mb-2",children:"Selecciona tu rol:"}),(0,r.jsxs)("select",{value:s,onChange:e=>a(e.target.value),className:"w-full p-2 border rounded",children:[(0,r.jsx)("option",{value:"user",children:"Usuario"}),(0,r.jsx)("option",{value:"restaurant",children:"Restaurante"}),(0,r.jsx)("option",{value:"driver",children:"Conductor"})]})]}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-primary text-white p-2 rounded hover:bg-primary-dark",children:"Iniciar sesi\xf3n"})]})})}function E(){let{role:e}=(0,t.k)();if(!e)return(0,r.jsx)(C,{});switch(e){case"user":return(0,r.jsx)(x,{});case"restaurant":return(0,r.jsx)(g,{});case"driver":return(0,r.jsx)(w,{});default:return(0,r.jsx)("div",{children:"Error: Rol inv\xe1lido"})}}},2708:function(e,s,a){"use strict";a.d(s,{SessionProvider:function(){return l},k:function(){return i}});var r=a(7437),t=a(2265);let n=(0,t.createContext)(void 0),l=e=>{let{children:s}=e,[a,l]=(0,t.useState)(null);return(0,r.jsx)(n.Provider,{value:{role:a,setRole:l},children:s})},i=()=>{let e=(0,t.useContext)(n);if(void 0===e)throw Error("useSession must be used within a SessionProvider");return e}}},function(e){e.O(0,[940,971,117,744],function(){return e(e.s=998)}),_N_E=e.O()}]);